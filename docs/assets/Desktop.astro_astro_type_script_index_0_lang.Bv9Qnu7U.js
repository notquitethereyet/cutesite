import{s as U}from"./chunks/themeManager.CaTQoIGH.js";var L=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var X;function ee(){return X||(X=1,function(c){(function(){var p=function(){this.init()};p.prototype={init:function(){var e=this||o;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||o;if(e=parseFloat(e),t.ctx||g(),typeof e<"u"&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var i=t._howls[n]._getSoundIds(),l=0;l<i.length;l++){var d=t._howls[n]._soundById(i[l]);d&&d._node&&(d._node.volume=d._volume*e)}return t}return t._volume},mute:function(e){var t=this||o;t.ctx||g(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var i=t._howls[n]._getSoundIds(),l=0;l<i.length;l++){var d=t._howls[n]._soundById(i[l]);d&&d._node&&(d._node.muted=e?!0:d._muted)}return t},stop:function(){for(var e=this||o,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||o,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close<"u"&&(e.ctx.close(),e.ctx=null,g()),e},codecs:function(e){return(this||o)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||o;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{var t=new Audio;typeof t.oncanplaythrough>"u"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||o,t=null;try{t=typeof Audio<"u"?new Audio:null}catch{return e}if(!t||typeof t.canPlayType!="function")return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i=e._navigator?e._navigator.userAgent:"",l=i.match(/OPR\/(\d+)/g),d=l&&parseInt(l[0].split("/")[1],10)<33,s=i.indexOf("Safari")!==-1&&i.indexOf("Chrome")===-1,h=i.match(/Version\/(.*?) /),w=s&&h&&parseInt(h[1],10)<15;return e._codecs={mp3:!!(!d&&(n||t.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!w&&t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!w&&t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||o;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var i=new Audio;i._unlocked=!0,e._releaseHtml5Audio(i)}catch{e.noAudio=!0;break}for(var l=0;l<e._howls.length;l++)if(!e._howls[l]._webAudio)for(var d=e._howls[l]._getSoundIds(),s=0;s<d.length;s++){var h=e._howls[l]._soundById(d[s]);h&&h._node&&!h._node._unlocked&&(h._node._unlocked=!0,h._node.load())}e._autoResume();var w=e.ctx.createBufferSource();w.buffer=e._scratchBuffer,w.connect(e.ctx.destination),typeof w.start>"u"?w.noteOn(0):w.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),w.onended=function(){w.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var b=0;b<e._howls.length;b++)e._howls[b]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||o;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=new Audio().play();return t&&typeof Promise<"u"&&(t instanceof Promise||typeof t.then=="function")&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||o;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend>"u"||!o.usingWebAudio)){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio){for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var i=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(i,i)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume>"u"||!o.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var o=new p,a=function(e){var t=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}t.init(e)};a.prototype={init:function(e){var t=this;return o.ctx||g(),t._autoplay=e.autoplay||!1,t._format=typeof e.format!="string"?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src=typeof e.src!="string"?e.src:[e.src],t._volume=e.volume!==void 0?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=o.usingWebAudio&&!t._html5,typeof o.ctx<"u"&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t._preload!=="none"&&t.load(),t},load:function(){var e=this,t=null;if(o.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var i,l;if(e._format&&e._format[n])i=e._format[n];else{if(l=e._src[n],typeof l!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}i=/^data:audio\/([^;,]+);/i.exec(l),i||(i=/\.([^.]+)$/.exec(l.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(i||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),i&&o.codecs(i)){t=e._src[n];break}}if(!t){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=t,e._state="loading",window.location.protocol==="https:"&&t.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new r(e),e._webAudio&&f(e),e},play:function(e,t){var n=this,i=null;if(typeof e=="number")i=e,e=null;else{if(typeof e=="string"&&n._state==="loaded"&&!n._sprite[e])return null;if(typeof e>"u"&&(e="__default",!n._playLock)){for(var l=0,d=0;d<n._sounds.length;d++)n._sounds[d]._paused&&!n._sounds[d]._ended&&(l++,i=n._sounds[d]._id);l===1?e=null:i=null}}var s=i?n._soundById(i):n._inactiveSound();if(!s)return null;if(i&&!e&&(e=s._sprite||"__default"),n._state!=="loaded"){s._sprite=e,s._ended=!1;var h=s._id;return n._queue.push({event:"play",action:function(){n.play(h)}}),h}if(i&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&o._autoResume();var w=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),b=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-w),A=b*1e3/Math.abs(s._rate),x=n._sprite[e][0]/1e3,E=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var C=function(){s._paused=!1,s._seek=w,s._start=x,s._stop=E,s._loop=!!(s._loop||n._sprite[e][2])};if(w>=E){n._ended(s);return}var y=s._node;if(n._webAudio){var W=function(){n._playLock=!1,C(),n._refreshBuffer(s);var T=s._muted||n._muted?0:s._volume;y.gain.setValueAtTime(T,o.ctx.currentTime),s._playStart=o.ctx.currentTime,typeof y.bufferSource.start>"u"?s._loop?y.bufferSource.noteGrainOn(0,w,86400):y.bufferSource.noteGrainOn(0,w,b):s._loop?y.bufferSource.start(0,w,86400):y.bufferSource.start(0,w,b),A!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),A)),t||setTimeout(function(){n._emit("play",s._id),n._loadQueue()},0)};o.state==="running"&&o.ctx.state!=="interrupted"?W():(n._playLock=!0,n.once("resume",W),n._clearTimer(s._id))}else{var V=function(){y.currentTime=w,y.muted=s._muted||n._muted||o._muted||y.muted,y.volume=s._volume*o.volume(),y.playbackRate=s._rate;try{var T=y.play();if(T&&typeof Promise<"u"&&(T instanceof Promise||typeof T.then=="function")?(n._playLock=!0,C(),T.then(function(){n._playLock=!1,y._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)}).catch(function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0})):t||(n._playLock=!1,C(),n._emit("play",s._id)),y.playbackRate=s._rate,y.paused){n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),A):(n._endTimers[s._id]=function(){n._ended(s),y.removeEventListener("ended",n._endTimers[s._id],!1)},y.addEventListener("ended",n._endTimers[s._id],!1))}catch(z){n._emit("playerror",s._id,z)}};y.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(y.src=n._src,y.load());var J=window&&window.ejecta||!y.readyState&&o._navigator.isCocoonJS;if(y.readyState>=3||J)V();else{n._playLock=!0,n._state="loading";var R=function(){n._state="loaded",V(),y.removeEventListener(o._canPlayEvent,R,!1)};y.addEventListener(o._canPlayEvent,R,!1),n._clearTimer(s._id)}}return s._id},pause:function(e){var t=this;if(t._state!=="loaded"||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),i=0;i<n.length;i++){t._clearTimer(n[i]);var l=t._soundById(n[i]);if(l&&!l._paused&&(l._seek=t.seek(n[i]),l._rateSeek=0,l._paused=!0,t._stopFade(n[i]),l._node))if(t._webAudio){if(!l._node.bufferSource)continue;typeof l._node.bufferSource.stop>"u"?l._node.bufferSource.noteOff(0):l._node.bufferSource.stop(0),t._cleanBuffer(l._node)}else(!isNaN(l._node.duration)||l._node.duration===1/0)&&l._node.pause();arguments[1]||t._emit("pause",l?l._id:null)}return t},stop:function(e,t){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var i=n._getSoundIds(e),l=0;l<i.length;l++){n._clearTimer(i[l]);var d=n._soundById(i[l]);d&&(d._seek=d._start||0,d._rateSeek=0,d._paused=!0,d._ended=!0,n._stopFade(i[l]),d._node&&(n._webAudio?d._node.bufferSource&&(typeof d._node.bufferSource.stop>"u"?d._node.bufferSource.noteOff(0):d._node.bufferSource.stop(0),n._cleanBuffer(d._node)):(!isNaN(d._node.duration)||d._node.duration===1/0)&&(d._node.currentTime=d._start||0,d._node.pause(),d._node.duration===1/0&&n._clearSound(d._node))),t||n._emit("stop",d._id))}return n},mute:function(e,t){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(typeof t>"u")if(typeof e=="boolean")n._muted=e;else return n._muted;for(var i=n._getSoundIds(t),l=0;l<i.length;l++){var d=n._soundById(i[l]);d&&(d._muted=e,d._interval&&n._stopFade(d._id),n._webAudio&&d._node?d._node.gain.setValueAtTime(e?0:d._volume,o.ctx.currentTime):d._node&&(d._node.muted=o._muted?!0:e),n._emit("mute",d._id))}return n},volume:function(){var e=this,t=arguments,n,i;if(t.length===0)return e._volume;if(t.length===1||t.length===2&&typeof t[1]>"u"){var l=e._getSoundIds(),d=l.indexOf(t[0]);d>=0?i=parseInt(t[0],10):n=parseFloat(t[0])}else t.length>=2&&(n=parseFloat(t[0]),i=parseInt(t[1],10));var s;if(typeof n<"u"&&n>=0&&n<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,t)}}),e;typeof i>"u"&&(e._volume=n),i=e._getSoundIds(i);for(var h=0;h<i.length;h++)s=e._soundById(i[h]),s&&(s._volume=n,t[2]||e._stopFade(i[h]),e._webAudio&&s._node&&!s._muted?s._node.gain.setValueAtTime(n,o.ctx.currentTime):s._node&&!s._muted&&(s._node.volume=n*o.volume()),e._emit("volume",s._id))}else return s=i?e._soundById(i):e._sounds[0],s?s._volume:0;return e},fade:function(e,t,n,i){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"fade",action:function(){l.fade(e,t,n,i)}}),l;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),l.volume(e,i);for(var d=l._getSoundIds(i),s=0;s<d.length;s++){var h=l._soundById(d[s]);if(h){if(i||l._stopFade(d[s]),l._webAudio&&!h._muted){var w=o.ctx.currentTime,b=w+n/1e3;h._volume=e,h._node.gain.setValueAtTime(e,w),h._node.gain.linearRampToValueAtTime(t,b)}l._startFadeInterval(h,e,t,n,d[s],typeof i>"u")}}return l},_startFadeInterval:function(e,t,n,i,l,d){var s=this,h=t,w=n-t,b=Math.abs(w/.01),A=Math.max(4,b>0?i/b:i),x=Date.now();e._fadeTo=n,e._interval=setInterval(function(){var E=(Date.now()-x)/i;x=Date.now(),h+=w*E,h=Math.round(h*100)/100,w<0?h=Math.max(n,h):h=Math.min(n,h),s._webAudio?e._volume=h:s.volume(h,e._id,!0),d&&(s._volume=h),(n<t&&h<=n||n>t&&h>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,s.volume(n,e._id),s._emit("fade",e._id))},A)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e=this,t=arguments,n,i,l;if(t.length===0)return e._loop;if(t.length===1)if(typeof t[0]=="boolean")n=t[0],e._loop=n;else return l=e._soundById(parseInt(t[0],10)),l?l._loop:!1;else t.length===2&&(n=t[0],i=parseInt(t[1],10));for(var d=e._getSoundIds(i),s=0;s<d.length;s++)l=e._soundById(d[s]),l&&(l._loop=n,e._webAudio&&l._node&&l._node.bufferSource&&(l._node.bufferSource.loop=n,n&&(l._node.bufferSource.loopStart=l._start||0,l._node.bufferSource.loopEnd=l._stop,e.playing(d[s])&&(e.pause(d[s],!0),e.play(d[s],!0)))));return e},rate:function(){var e=this,t=arguments,n,i;if(t.length===0)i=e._sounds[0]._id;else if(t.length===1){var l=e._getSoundIds(),d=l.indexOf(t[0]);d>=0?i=parseInt(t[0],10):n=parseFloat(t[0])}else t.length===2&&(n=parseFloat(t[0]),i=parseInt(t[1],10));var s;if(typeof n=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,t)}}),e;typeof i>"u"&&(e._rate=n),i=e._getSoundIds(i);for(var h=0;h<i.length;h++)if(s=e._soundById(i[h]),s){e.playing(i[h])&&(s._rateSeek=e.seek(i[h]),s._playStart=e._webAudio?o.ctx.currentTime:s._playStart),s._rate=n,e._webAudio&&s._node&&s._node.bufferSource?s._node.bufferSource.playbackRate.setValueAtTime(n,o.ctx.currentTime):s._node&&(s._node.playbackRate=n);var w=e.seek(i[h]),b=(e._sprite[s._sprite][0]+e._sprite[s._sprite][1])/1e3-w,A=b*1e3/Math.abs(s._rate);(e._endTimers[i[h]]||!s._paused)&&(e._clearTimer(i[h]),e._endTimers[i[h]]=setTimeout(e._ended.bind(e,s),A)),e._emit("rate",s._id)}}else return s=e._soundById(i),s?s._rate:e._rate;return e},seek:function(){var e=this,t=arguments,n,i;if(t.length===0)e._sounds.length&&(i=e._sounds[0]._id);else if(t.length===1){var l=e._getSoundIds(),d=l.indexOf(t[0]);d>=0?i=parseInt(t[0],10):e._sounds.length&&(i=e._sounds[0]._id,n=parseFloat(t[0]))}else t.length===2&&(n=parseFloat(t[0]),i=parseInt(t[1],10));if(typeof i>"u")return 0;if(typeof n=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,t)}}),e;var s=e._soundById(i);if(s)if(typeof n=="number"&&n>=0){var h=e.playing(i);h&&e.pause(i,!0),s._seek=n,s._ended=!1,e._clearTimer(i),!e._webAudio&&s._node&&!isNaN(s._node.duration)&&(s._node.currentTime=n);var w=function(){h&&e.play(i,!0),e._emit("seek",i)};if(h&&!e._webAudio){var b=function(){e._playLock?setTimeout(b,0):w()};setTimeout(b,0)}else w()}else if(e._webAudio){var A=e.playing(i)?o.ctx.currentTime-s._playStart:0,x=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(x+A*Math.abs(s._rate))}else return s._node.currentTime;return e},playing:function(e){var t=this;if(typeof e=="number"){var n=t._soundById(e);return n?!n._paused:!1}for(var i=0;i<t._sounds.length;i++)if(!t._sounds[i]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,i=t._soundById(e);return i&&(n=t._sprite[i._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(o._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),o._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var i=o._howls.indexOf(e);i>=0&&o._howls.splice(i,1);var l=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===e._src||e._src.indexOf(o._howls[n]._src)>=0){l=!1;break}return u&&l&&delete u[e._src],o.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,i){var l=this,d=l["_on"+e];return typeof t=="function"&&d.push(i?{id:n,fn:t,once:i}:{id:n,fn:t}),l},off:function(e,t,n){var i=this,l=i["_on"+e],d=0;if(typeof t=="number"&&(n=t,t=null),t||n)for(d=0;d<l.length;d++){var s=n===l[d].id;if(t===l[d].fn&&s||!t&&s){l.splice(d,1);break}}else if(e)i["_on"+e]=[];else{var h=Object.keys(i);for(d=0;d<h.length;d++)h[d].indexOf("_on")===0&&Array.isArray(i[h[d]])&&(i[h[d]]=[])}return i},once:function(e,t,n){var i=this;return i.on(e,t,n,1),i},_emit:function(e,t,n){for(var i=this,l=i["_on"+e],d=l.length-1;d>=0;d--)(!l[d].id||l[d].id===t||e==="load")&&(setTimeout(function(s){s.call(this,t,n)}.bind(i,l[d].fn),0),l[d].once&&i.off(e,l[d].fn,l[d].id));return i._loadQueue(e),i},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var i=!!(e._loop||t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&i&&t.stop(e._id,!0).play(e._id),t._webAudio&&i){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=o.ctx.currentTime;var l=(e._stop-e._start)*1e3/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),l)}return t._webAudio&&!i&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),o._autoSuspend()),!t._webAudio&&!i&&t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if(typeof t._endTimers[e]!="function")clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new r(e)},_drain:function(){var e=this,t=e._pool,n=0,i=0;if(!(e._sounds.length<t)){for(i=0;i<e._sounds.length;i++)e._sounds[i]._ended&&n++;for(i=e._sounds.length-1;i>=0;i--){if(n<=t)return;e._sounds[i]._ended&&(e._webAudio&&e._sounds[i]._node&&e._sounds[i]._node.disconnect(0),e._sounds.splice(i,1),n--)}}},_getSoundIds:function(e){var t=this;if(typeof e>"u"){for(var n=[],i=0;i<t._sounds.length;i++)n.push(t._sounds[i]._id);return n}else return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=o.ctx.createBufferSource(),e._node.bufferSource.buffer=u[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,o.ctx.currentTime),t},_cleanBuffer:function(e){var t=this,n=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return t;if(o._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),n))try{e.bufferSource.buffer=o._scratchBuffer}catch{}return e.bufferSource=null,t},_clearSound:function(e){var t=/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent);t||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(e){this._parent=e,this.init()};r.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++o._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=o._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=typeof o.ctx.createGain>"u"?o.ctx.createGainNode():o.ctx.createGain(),e._node.gain.setValueAtTime(n,o.ctx.currentTime),e._node.paused=!0,e._node.connect(o.masterGain)):o.noAudio||(e._node=o._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(o._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=t._preload===!0?"auto":t._preload,e._node.volume=n*o.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++o._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(e._node.duration*10)/10,Object.keys(t._sprite).length===0&&(t._sprite={__default:[0,t._duration*1e3]}),t._state!=="loaded"&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(o._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(e._node.duration*10)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=t._duration*1e3),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var u={},f=function(e){var t=e._src;if(u[t]){e._duration=u[t].duration,_(e);return}if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),i=new Uint8Array(n.length),l=0;l<n.length;++l)i[l]=n.charCodeAt(l);m(i.buffer,e)}else{var d=new XMLHttpRequest;d.open(e._xhr.method,t,!0),d.withCredentials=e._xhr.withCredentials,d.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(s){d.setRequestHeader(s,e._xhr.headers[s])}),d.onload=function(){var s=(d.status+"")[0];if(s!=="0"&&s!=="2"&&s!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+d.status+".");return}m(d.response,e)},d.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},v(d)}},v=function(e){try{e.send()}catch{e.onerror()}},m=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},i=function(l){l&&t._sounds.length>0?(u[t._src]=l,_(t,l)):n()};typeof Promise<"u"&&o.ctx.decodeAudioData.length===1?o.ctx.decodeAudioData(e).then(i).catch(n):o.ctx.decodeAudioData(e,i,n)},_=function(e,t){t&&!e._duration&&(e._duration=t.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},g=function(){if(o.usingWebAudio){try{typeof AudioContext<"u"?o.ctx=new AudioContext:typeof webkitAudioContext<"u"?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch{o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),t=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var i=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!i&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain=typeof o.ctx.createGain>"u"?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};c.Howler=o,c.Howl=a,typeof L<"u"?(L.HowlerGlobal=p,L.Howler=o,L.Howl=a,L.Sound=r):typeof window<"u"&&(window.HowlerGlobal=p,window.Howler=o,window.Howl=a,window.Sound=r)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(o){var a=this;if(!a.ctx||!a.ctx.listener)return a;for(var r=a._howls.length-1;r>=0;r--)a._howls[r].stereo(o);return a},HowlerGlobal.prototype.pos=function(o,a,r){var u=this;if(!u.ctx||!u.ctx.listener)return u;if(a=typeof a!="number"?u._pos[1]:a,r=typeof r!="number"?u._pos[2]:r,typeof o=="number")u._pos=[o,a,r],typeof u.ctx.listener.positionX<"u"?(u.ctx.listener.positionX.setTargetAtTime(u._pos[0],Howler.ctx.currentTime,.1),u.ctx.listener.positionY.setTargetAtTime(u._pos[1],Howler.ctx.currentTime,.1),u.ctx.listener.positionZ.setTargetAtTime(u._pos[2],Howler.ctx.currentTime,.1)):u.ctx.listener.setPosition(u._pos[0],u._pos[1],u._pos[2]);else return u._pos;return u},HowlerGlobal.prototype.orientation=function(o,a,r,u,f,v){var m=this;if(!m.ctx||!m.ctx.listener)return m;var _=m._orientation;if(a=typeof a!="number"?_[1]:a,r=typeof r!="number"?_[2]:r,u=typeof u!="number"?_[3]:u,f=typeof f!="number"?_[4]:f,v=typeof v!="number"?_[5]:v,typeof o=="number")m._orientation=[o,a,r,u,f,v],typeof m.ctx.listener.forwardX<"u"?(m.ctx.listener.forwardX.setTargetAtTime(o,Howler.ctx.currentTime,.1),m.ctx.listener.forwardY.setTargetAtTime(a,Howler.ctx.currentTime,.1),m.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),m.ctx.listener.upX.setTargetAtTime(u,Howler.ctx.currentTime,.1),m.ctx.listener.upY.setTargetAtTime(f,Howler.ctx.currentTime,.1),m.ctx.listener.upZ.setTargetAtTime(v,Howler.ctx.currentTime,.1)):m.ctx.listener.setOrientation(o,a,r,u,f,v);else return _;return m},Howl.prototype.init=function(o){return function(a){var r=this;return r._orientation=a.orientation||[1,0,0],r._stereo=a.stereo||null,r._pos=a.pos||null,r._pannerAttr={coneInnerAngle:typeof a.coneInnerAngle<"u"?a.coneInnerAngle:360,coneOuterAngle:typeof a.coneOuterAngle<"u"?a.coneOuterAngle:360,coneOuterGain:typeof a.coneOuterGain<"u"?a.coneOuterGain:0,distanceModel:typeof a.distanceModel<"u"?a.distanceModel:"inverse",maxDistance:typeof a.maxDistance<"u"?a.maxDistance:1e4,panningModel:typeof a.panningModel<"u"?a.panningModel:"HRTF",refDistance:typeof a.refDistance<"u"?a.refDistance:1,rolloffFactor:typeof a.rolloffFactor<"u"?a.rolloffFactor:1},r._onstereo=a.onstereo?[{fn:a.onstereo}]:[],r._onpos=a.onpos?[{fn:a.onpos}]:[],r._onorientation=a.onorientation?[{fn:a.onorientation}]:[],o.call(this,a)}}(Howl.prototype.init),Howl.prototype.stereo=function(o,a){var r=this;if(!r._webAudio)return r;if(r._state!=="loaded")return r._queue.push({event:"stereo",action:function(){r.stereo(o,a)}}),r;var u=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof a>"u")if(typeof o=="number")r._stereo=o,r._pos=[o,0,0];else return r._stereo;for(var f=r._getSoundIds(a),v=0;v<f.length;v++){var m=r._soundById(f[v]);if(m)if(typeof o=="number")m._stereo=o,m._pos=[o,0,0],m._node&&(m._pannerAttr.panningModel="equalpower",(!m._panner||!m._panner.pan)&&p(m,u),u==="spatial"?typeof m._panner.positionX<"u"?(m._panner.positionX.setValueAtTime(o,Howler.ctx.currentTime),m._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),m._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):m._panner.setPosition(o,0,0):m._panner.pan.setValueAtTime(o,Howler.ctx.currentTime)),r._emit("stereo",m._id);else return m._stereo}return r},Howl.prototype.pos=function(o,a,r,u){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"pos",action:function(){f.pos(o,a,r,u)}}),f;if(a=typeof a!="number"?0:a,r=typeof r!="number"?-.5:r,typeof u>"u")if(typeof o=="number")f._pos=[o,a,r];else return f._pos;for(var v=f._getSoundIds(u),m=0;m<v.length;m++){var _=f._soundById(v[m]);if(_)if(typeof o=="number")_._pos=[o,a,r],_._node&&((!_._panner||_._panner.pan)&&p(_,"spatial"),typeof _._panner.positionX<"u"?(_._panner.positionX.setValueAtTime(o,Howler.ctx.currentTime),_._panner.positionY.setValueAtTime(a,Howler.ctx.currentTime),_._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):_._panner.setPosition(o,a,r)),f._emit("pos",_._id);else return _._pos}return f},Howl.prototype.orientation=function(o,a,r,u){var f=this;if(!f._webAudio)return f;if(f._state!=="loaded")return f._queue.push({event:"orientation",action:function(){f.orientation(o,a,r,u)}}),f;if(a=typeof a!="number"?f._orientation[1]:a,r=typeof r!="number"?f._orientation[2]:r,typeof u>"u")if(typeof o=="number")f._orientation=[o,a,r];else return f._orientation;for(var v=f._getSoundIds(u),m=0;m<v.length;m++){var _=f._soundById(v[m]);if(_)if(typeof o=="number")_._orientation=[o,a,r],_._node&&(_._panner||(_._pos||(_._pos=f._pos||[0,0,-.5]),p(_,"spatial")),typeof _._panner.orientationX<"u"?(_._panner.orientationX.setValueAtTime(o,Howler.ctx.currentTime),_._panner.orientationY.setValueAtTime(a,Howler.ctx.currentTime),_._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):_._panner.setOrientation(o,a,r)),f._emit("orientation",_._id);else return _._orientation}return f},Howl.prototype.pannerAttr=function(){var o=this,a=arguments,r,u,f;if(!o._webAudio)return o;if(a.length===0)return o._pannerAttr;if(a.length===1)if(typeof a[0]=="object")r=a[0],typeof u>"u"&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),o._pannerAttr={coneInnerAngle:typeof r.pannerAttr.coneInnerAngle<"u"?r.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:typeof r.pannerAttr.coneOuterAngle<"u"?r.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:typeof r.pannerAttr.coneOuterGain<"u"?r.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:typeof r.pannerAttr.distanceModel<"u"?r.pannerAttr.distanceModel:o._distanceModel,maxDistance:typeof r.pannerAttr.maxDistance<"u"?r.pannerAttr.maxDistance:o._maxDistance,refDistance:typeof r.pannerAttr.refDistance<"u"?r.pannerAttr.refDistance:o._refDistance,rolloffFactor:typeof r.pannerAttr.rolloffFactor<"u"?r.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:typeof r.pannerAttr.panningModel<"u"?r.pannerAttr.panningModel:o._panningModel});else return f=o._soundById(parseInt(a[0],10)),f?f._pannerAttr:o._pannerAttr;else a.length===2&&(r=a[0],u=parseInt(a[1],10));for(var v=o._getSoundIds(u),m=0;m<v.length;m++)if(f=o._soundById(v[m]),f){var _=f._pannerAttr;_={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:_.coneInnerAngle,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:_.coneOuterAngle,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:_.coneOuterGain,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:_.distanceModel,maxDistance:typeof r.maxDistance<"u"?r.maxDistance:_.maxDistance,refDistance:typeof r.refDistance<"u"?r.refDistance:_.refDistance,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:_.rolloffFactor,panningModel:typeof r.panningModel<"u"?r.panningModel:_.panningModel};var g=f._panner;g||(f._pos||(f._pos=o._pos||[0,0,-.5]),p(f,"spatial"),g=f._panner),g.coneInnerAngle=_.coneInnerAngle,g.coneOuterAngle=_.coneOuterAngle,g.coneOuterGain=_.coneOuterGain,g.distanceModel=_.distanceModel,g.maxDistance=_.maxDistance,g.refDistance=_.refDistance,g.rolloffFactor=_.rolloffFactor,g.panningModel=_.panningModel}return o},Sound.prototype.init=function(o){return function(){var a=this,r=a._parent;a._orientation=r._orientation,a._stereo=r._stereo,a._pos=r._pos,a._pannerAttr=r._pannerAttr,o.call(this),a._stereo?r.stereo(a._stereo):a._pos&&r.pos(a._pos[0],a._pos[1],a._pos[2],a._id)}}(Sound.prototype.init),Sound.prototype.reset=function(o){return function(){var a=this,r=a._parent;return a._orientation=r._orientation,a._stereo=r._stereo,a._pos=r._pos,a._pannerAttr=r._pannerAttr,a._stereo?r.stereo(a._stereo):a._pos?r.pos(a._pos[0],a._pos[1],a._pos[2],a._id):a._panner&&(a._panner.disconnect(0),a._panner=void 0,r._refreshBuffer(a)),o.call(this)}}(Sound.prototype.reset);var p=function(o,a){a=a||"spatial",a==="spatial"?(o._panner=Howler.ctx.createPanner(),o._panner.coneInnerAngle=o._pannerAttr.coneInnerAngle,o._panner.coneOuterAngle=o._pannerAttr.coneOuterAngle,o._panner.coneOuterGain=o._pannerAttr.coneOuterGain,o._panner.distanceModel=o._pannerAttr.distanceModel,o._panner.maxDistance=o._pannerAttr.maxDistance,o._panner.refDistance=o._pannerAttr.refDistance,o._panner.rolloffFactor=o._pannerAttr.rolloffFactor,o._panner.panningModel=o._pannerAttr.panningModel,typeof o._panner.positionX<"u"?(o._panner.positionX.setValueAtTime(o._pos[0],Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(o._pos[1],Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(o._pos[2],Howler.ctx.currentTime)):o._panner.setPosition(o._pos[0],o._pos[1],o._pos[2]),typeof o._panner.orientationX<"u"?(o._panner.orientationX.setValueAtTime(o._orientation[0],Howler.ctx.currentTime),o._panner.orientationY.setValueAtTime(o._orientation[1],Howler.ctx.currentTime),o._panner.orientationZ.setValueAtTime(o._orientation[2],Howler.ctx.currentTime)):o._panner.setOrientation(o._orientation[0],o._orientation[1],o._orientation[2])):(o._panner=Howler.ctx.createStereoPanner(),o._panner.pan.setValueAtTime(o._stereo,Howler.ctx.currentTime)),o._panner.connect(o._node),o._paused||o._parent.pause(o._id,!0).play(o._id,!0)}})()}(D)),D}var M=ee();const te={};let I=null,q=!1;const H="/",O={windowOpen:`${H}audio/click.mp3`,windowClose:`${H}audio/close.mp3`,profileClick:`${H}audio/ahoy.mp3`,glitch:`${H}audio/glitch.mp3`};function ne(){q||(I={windowOpen:new M.Howl({src:[O.windowOpen],volume:.3,preload:!1}),windowClose:new M.Howl({src:[O.windowClose],volume:.3,preload:!1}),profileClick:new M.Howl({src:[O.profileClick],volume:.3,preload:!1}),glitch:new M.Howl({src:[O.glitch],volume:.3,preload:!1})},q=!0)}function k(c){if(!q){console.warn("Audio not initialized yet - waiting for user interaction");return}I&&I[c]&&(I[c].load(),I[c].play())}function Y(){const c=p=>{p.isTrusted&&(ne(),document.removeEventListener("click",c),document.removeEventListener("keydown",c),console.log("Audio system initialized after user interaction"))};document.addEventListener("click",c),document.addEventListener("keydown",c),document.addEventListener("click",p=>{if(!p.isTrusted)return;const o=p.target;o&&o.id==="profile-image"&&(k("profileClick"),o.classList.add("profile-click"),setTimeout(()=>{o.classList.remove("profile-click")},300))})}function oe(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Y):Y(),console.log("Audio manager ready - waiting for user interaction")}const re="quiet",ie="judy2077@protonmail.com",ae={github:"https://github.com/notquitethereyet",twitter:"https://twitter.com/notquiteartyet",spotify:"https://open.spotify.com/user/5p320nqqyaj9yt21i8igkm41q?si=9b9b8af1e4b64abd",medium:"https://medium.com/@notquitethereyet_"};new Date().getFullYear();const se={};let F=[],N=10;function B(c){typeof window<"u"&&(window.openWindow=B),console.log("Opening window:",c);const p=document.querySelector(`.window[data-window-id="${c}"]`);if(p){p.classList.add("window-shake"),setTimeout(()=>{p.classList.remove("window-shake")},500),P(p);return}c==="autism"&&U({mode:document.documentElement.classList.contains("dark")?"dark":"light",background:"lain",decoration:"lily"});const o=document.getElementById("window-template");if(!o){console.error("Window template not found");return}const r=o.content.cloneNode(!0).querySelector(".window");if(!r){console.error("Window element not found in template");return}r.dataset.windowId=c;const u=r.querySelector(".bg-secondary div");if(!u)console.error("Window title element not found");else if(c.startsWith("blog-")){const e=c.replace("blog-",""),t={"project-1":"Personal Website","project-2":"Machine Learning Art","project-3":"NixOS Configuration"};u.textContent=t[e]||`Blog: ${e}`}else u.textContent=c.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");c==="home"&&(r.classList.add("home-window"),r.style.width="min(90vw, 500px)"),c==="work"&&(r.classList.add("work-window"),r.style.width="min(90vw, 900px)",r.style.height="min(90vh, 700px)"),c.startsWith("blog-")&&(r.classList.add("blog-window"),r.style.width="min(95vw, 1000px)",r.style.height="min(95vh, 800px)"),c==="links"&&(r.classList.add("links-window-container"),r.style.width="min(90vw, 450px)",r.style.height="min(90vh, 400px)");const f=r.querySelector(".bg-secondary");f&&(f.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue("--window-title-bg"));const v=document.getElementById("windows-container");if(!v){console.error("Windows container not found");return}v.appendChild(r);const m=r.offsetWidth,_=r.offsetHeight,g=pe(m,_);r.style.left=`${g.left}px`,r.style.top=`${g.top}px`,F.push({id:c,element:r}),ce(r),setTimeout(()=>{k("windowOpen"),r.classList.add("window-opening"),r.classList.add("window-active"),P(r),le(c,r)},10)}function le(c,p){const o=p.querySelector(".window > div:nth-child(2)");if(!o){console.error("Window content element not found");return}o.classList.add("loading"),o.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue("--window-content-bg"),setTimeout(()=>{const a=de(c);if(!a){console.error(`Content for ${c} could not be created`);return}o.innerHTML="",o.innerHTML=a,o.classList.remove("loading");const r=o.firstElementChild;r&&r.classList.add("content-fade-in"),c==="work"&&fetch(`${S()}work-component`).then(u=>u.text()).then(u=>{const f=o.querySelector("#dynamic-work-content");f&&(f.innerHTML=u,o.querySelectorAll(".blog-post").forEach(m=>{m.addEventListener("click",()=>{const _=m.dataset.url;if(_){const g=_.split("/").pop();g&&B(`blog-${g}`)}})}))}).catch(u=>{console.error("Error loading work component:",u);const f=o.querySelector("#dynamic-work-content");f&&(f.innerHTML=`
              <div class="p-4 text-center">
                <h3 class="text-lg font-bold mb-2">Error Loading Projects</h3>
                <p>Could not load the projects. Please try again later.</p>
              </div>
            `)})},300)}function de(c){switch(c){case"about":return`
        <div class="about-window">
          <img src="${S()}images/profile.webp" alt="Profile picture" class="profile-image" id="profile-image" loading="lazy" width="120" height="120">
          <h2 class="font-bold text-2xl text-text dark:text-text-dark">${re}</h2>
          <p class="mb-3">CS graduate student with software development experience.</p>
          <div class="about-sections">
            <div class="about-section">
              <h3 class="font-bold text-lg text-text dark:text-text-dark">Tech Interests</h3>
              <ul class="list-disc pl-5 mb-3">
                <li>Open-source, Linux (Arch & NixOS)</li>
                <li>Machine Learning & Deep Learning</li>
                <li>Virtualization & VFIO GPU passthrough</li>
                <li>Hobby projects with anything I can get my hands on</li>
              </ul>
            </div>
            <div class="about-section">
              <h3 class="font-bold text-lg text-text dark:text-text-dark">Hobbies</h3>
              <ul class="list-disc pl-5">
                <li>Anime, manga, sketching, videogames, and music</li>
                <li>City Pop, Japanese Alternative Rock & guitars</li>
                <li>Mechanical keyboards (Cherry MX Blacks & Topre)</li>
              </ul>
            </div>
          </div>
        </div>
      `;case"links":return`
        <div class="links-window p-4">
          <h2 class="font-bold text-2xl text-highlight dark:text-highlight-dark mb-6 text-center">Find Me Online</h2>
          <div class="links-grid mx-auto" style="max-width: 400px;">
            ${Object.entries(ae).map(([r,u])=>{const f={github:"fab fa-github",twitter:"fab fa-twitter",spotify:"fab fa-spotify",linkedin:"fab fa-linkedin",devto:"fab fa-dev",medium:"fab fa-medium"};if(f[r]){const v=r.charAt(0).toUpperCase()+r.slice(1);return`
              <a href="${u}" class="link-item" target="_blank">
                <i class="${f[r]} link-icon"></i>
                <span>${v}</span>
              </a>
            `}return""}).join("")}
            <a href="mailto:${ie}" class="link-item">
              <i class="fas fa-envelope link-icon"></i>
              <span>Email</span>
            </a>
            <a href="${S()}posts" class="link-item">
              <i class="fas fa-mobile-alt link-icon"></i>
              <span>My Blogs</span>
            </a>
          </div>
        </div>
      `;case"work":return'<div id="dynamic-work-content" class="w-full h-full"></div>';case"faq":return`
        <div class="faq-window">
          <h2 class="font-bold text-2xl text-highlight dark:text-highlight-dark mb-6">???</h2>

          <div class="faq-item">
            <h3 class="font-bold text-highlight dark:text-highlight-dark">???</h3>
            <p class="text-highlight dark:text-highlight-dark">???</p>
          </div>

          <div class="faq-item" id="controller-trigger-panel">
            <h3 class="font-bold text-highlight dark:text-highlight-dark">???</h3>
            <p class="text-highlight dark:text-highlight-dark">???</p>
          </div>

          <div class="faq-item">
            <h3 class="font-bold text-highlight dark:text-highlight-dark">???</h3>
            <p class="text-highlight dark:text-highlight-dark">???</p>
          </div>
        </div>
      `;case"autism":return`
        <div class="flex flex-col gap-4">
          ${he([{title:"Degoogling",description:"Reduce the amount of data Google can steal from you!",url:"https://www.reddit.com/r/degoogle/comments/huk4rp/why_you_should_degoogle_intro_degoogling/"},{title:"Stay Private Online!",description:"Various Privacy Tools",url:"https://www.privacytools.io/"},{title:"Are VPNs really private?",description:"VPNs keep no logs. Right? RIGHT??????",url:"https://www.youtube.com/watch?v=239w7x2TdWE"},{title:"BitTorrent crypto mining",description:"Your harem anime spiking CPU usage?",url:"https://www.trustedreviews.com/news/utorrent-silently-installing-bundled-bitcoin-mining-software-2931825"},{title:"PlayStation 2 BIOS",description:"Curated BIOS that I need to play PS2 games.",url:"https://drive.google.com/file/d/1H_ydGw_leVuMpRzrEoC8nAWhmR1kGr0i/view"},{title:"PlayStation 3 Firmware",description:"Official Sony repo for PS3 firmware! Good job Sony!",url:"https://www.playstation.com/en-us/support/hardware/ps3/system-software/"},{title:"Stealing Stuff Pt. 1",description:"Stealing guide for games!",url:"https://www.reddit.com/r/Piracy/wiki/megathread/games/"},{title:"Stealing Stuff Pt. 2",description:"Stealing Guide for other software!",url:"https://www.reddit.com/r/Piracy/wiki/tools"},{title:"Stealing Stuff Pt. 3",description:"Stealing Guide for stinky weebs!",url:"https://nyaa.si/"}])}
        </div>
      `;default:if(c.startsWith("blog-")){const r=c.replace("blog-","");return`
          <div class="blog-post-iframe-container" style="height: 100%; width: 100%; overflow: hidden; background-color: var(--window-content-bg); position: relative; z-index: 1;">
            <iframe src="${S()}posts/${r}" style="height: 100%; width: 100%; border: none; display: block; overflow: auto; background-color: var(--window-content-bg);" frameborder="0" scrolling="yes" allowtransparency="false"></iframe>
          </div>
        `}return null}}function S(){return typeof import.meta<"u"&&se?"/":"/cutesite/"}function $(c){k("windowClose");const p=document.querySelector(`.window[data-window-id="${c}"]`);p&&(p.classList.add("closing"),setTimeout(()=>{p.remove(),c==="autism"&&(U({mode:document.documentElement.classList.contains("dark")?"dark":"light",background:"default",decoration:"sakura"}),window.location.href=window.location.origin+S())},300))}function P(c){N+=1,c.style.zIndex=`${N}`,document.querySelectorAll(".window").forEach(p=>{p.classList.remove("window-active")}),c.classList.add("window-active")}function ce(c){ue(c);const p=c.querySelector(".bg-secondary");p&&j(c,p),c.dataset.windowId==="home"&&p&&j(c,p)}function ue(c){const p=c.querySelector("button");p&&p.addEventListener("click",()=>{const a=c.dataset.windowId;a&&$(a)});const o=c.querySelector(".window-title");o&&o.addEventListener("dblclick",()=>{const a=c.dataset.windowId;a&&$(a)})}function j(c,p){let o=0,a=0,r=0,u=0;p.onmousedown=f;function f(_){_.preventDefault(),P(c),fe(c),r=_.clientX,u=_.clientY,document.onmouseup=m,document.onmousemove=v}function v(_){_.preventDefault(),o=r-_.clientX,a=u-_.clientY,r=_.clientX,u=_.clientY;const g=c.offsetTop-a,e=c.offsetLeft-o,{top:t,left:n}=K(g,e);c.style.top=`${t}px`,c.style.left=`${n}px`}function m(){_e(c),document.onmouseup=null,document.onmousemove=null}}function K(c,p){const o=window.innerHeight-50,a=window.innerWidth-50;return{top:Math.min(Math.max(0,c),o),left:Math.min(Math.max(0,p),a)}}function fe(c){c.classList.add("window-dragging")}function _e(c){c.classList.remove("window-dragging")}function pe(c,p){const o=(window.innerWidth-c)/2,a=(window.innerHeight-p)/2;if(F.length===0)return{left:o,top:a};const r=40,u=40,v=F.length%5,m=o+v*r,_=a+v*u,g=window.innerWidth-c-10,e=window.innerHeight-p-10;return{left:Math.min(Math.max(10,m),g),top:Math.min(Math.max(10,_),e)}}function me(){document.querySelectorAll(".window").forEach((p,o)=>{const a=p,r=a.offsetWidth,u=a.offsetHeight,f=(window.innerWidth-r)/2,v=(window.innerHeight-u)/2,m=40,_=40,e=o%5,t=f+e*m,n=v+e*_,i=window.innerWidth-r-10,l=window.innerHeight-u-10;a.style.transition="left 0.3s ease, top 0.3s ease",a.style.left=`${Math.min(Math.max(10,t),i)}px`,a.style.top=`${Math.min(Math.max(10,n),l)}px`,setTimeout(()=>{a.style.transition=""},300)})}function he(c){return`
    <div class="card-list">
      ${c.map(p=>`
        <a href="${p.url}" class="card-link" target="_blank" rel="noopener noreferrer">
          <div class="card">
            <h3 class="font-bold text-highlight dark:text-highlight-dark">${p.title}</h3>
            <p class="text-highlight dark:text-highlight-dark">${p.description}</p>
          </div>
        </a>
      `).join("")}
    </div>
  `}function ve(){console.log("Initializing icons");const c=document.querySelectorAll("[data-window]");console.log("Found icons:",c.length),c.forEach(p=>{p.addEventListener("click",a=>{if(!(a instanceof MouseEvent))return;const r=document.createElement("div");r.classList.add("ripple");const u=p.getBoundingClientRect(),f=Math.max(u.width,u.height);r.style.width=r.style.height=`${f}px`,r.style.left=`${a.clientX-u.left-f/2}px`,r.style.top=`${a.clientY-u.top-f/2}px`,p.appendChild(r),setTimeout(()=>{r.remove()},600);const v=p.dataset.window;if(!v){console.error("No window ID found on icon");return}B(v)});const o=Array.from(c).indexOf(p)*.2;p.style.animation=`float 3s ease-in-out ${o}s infinite`})}function ge(){document.querySelectorAll(".window").forEach(a=>{const r=a.querySelector(".bg-secondary");r&&Z(a,r)});const p=new MutationObserver(a=>{a.forEach(r=>{r.addedNodes.length&&r.addedNodes.forEach(u=>{if(u instanceof HTMLElement&&u.classList&&u.classList.contains("window")){const f=u.querySelector(".bg-secondary");f&&Z(u,f)}})})}),o=document.getElementById("windows-container");o&&p.observe(o,{childList:!0})}function Z(c,p){if(!p)return;p.addEventListener("touchstart",o,{passive:!1});function o(a){P(c);const r=a.touches[0],u=r.clientX,f=r.clientY,v=c.offsetTop,m=c.offsetLeft;document.addEventListener("touchmove",_,{passive:!1}),document.addEventListener("touchend",g,{passive:!1});function _(e){e.preventDefault();const t=e.touches[0],n=t.clientX-u,i=t.clientY-f,l=v+i,d=m+n,{top:s,left:h}=K(l,d);c.style.top=`${s}px`,c.style.left=`${h}px`}function g(){document.removeEventListener("touchmove",_),document.removeEventListener("touchend",g)}}}let G=!1;const Q=localStorage.getItem("darkMode");if(Q!==null)G=Q==="true";else{const c=window.matchMedia("(prefers-color-scheme: dark)").matches;G=c,localStorage.setItem("darkMode",String(c))}G?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");document.addEventListener("DOMContentLoaded",()=>{ve(),ge(),oe(),window.addEventListener("resize",me);const c=document.getElementById("home-window");c&&setTimeout(()=>{c.classList.add("active"),c.style.zIndex="5";const o=c.querySelector(".bg-secondary");o&&(o.style.backgroundColor=getComputedStyle(document.documentElement).getPropertyValue("--window-title-bg"))},300);function p(){const o=["ArrowUp","ArrowUp","ArrowDown","ArrowDown","ArrowLeft","ArrowRight","ArrowLeft","ArrowRight","b","a"];let a=0,r=!1;function u(){if(a=0,r){const i=document.getElementById("konami-controller");i&&(i.classList.add("hidden"),r=!1,a=0)}k("glitch"),B("autism"),k("windowOpen");const n=document.querySelector("body");n&&(n.classList.add("konami-activated"),setTimeout(()=>{n.classList.remove("konami-activated")},1e3))}function f(){const n=document.getElementById("konami-controller");n&&(n.classList.remove("hidden"),r=!0,_())}function v(){const n=document.getElementById("konami-controller");n&&(n.classList.add("hidden"),r=!1,a=0,document.querySelector('.window[data-window-id="autism"]'),window.location.assign(window.location.origin+S()))}function m(){const n=document.querySelectorAll("#sequence-dots div");for(let i=0;i<n.length;i++)i<a?(n[i].classList.remove("bg-red-900"),n[i].classList.add("bg-red-500")):(n[i].classList.remove("bg-red-500"),n[i].classList.add("bg-red-900"))}function _(){document.querySelectorAll("#sequence-dots div").forEach(i=>{i.classList.remove("bg-red-500"),i.classList.add("bg-red-900")}),a=0}function g(){document.getElementById("btn-up")?.addEventListener("click",()=>e("ArrowUp")),document.getElementById("btn-down")?.addEventListener("click",()=>e("ArrowDown")),document.getElementById("btn-left")?.addEventListener("click",()=>e("ArrowLeft")),document.getElementById("btn-right")?.addEventListener("click",()=>e("ArrowRight")),document.getElementById("btn-a")?.addEventListener("click",()=>e("a")),document.getElementById("btn-b")?.addEventListener("click",()=>e("b")),document.getElementById("controller-close")?.addEventListener("click",v)}function e(n){const i=o[a];n.toLowerCase()===i.toLowerCase()?(a++,m(),a===o.length&&setTimeout(()=>{u()},500)):(a=0,m())}function t(){new MutationObserver(i=>{i.forEach(l=>{if(l.type==="childList"){const d=document.getElementById("controller-trigger-panel");d&&!d.hasAttribute("data-controller-initialized")&&(d.addEventListener("click",()=>{$("faq"),k("glitch"),setTimeout(()=>{f()},350)}),d.setAttribute("data-controller-initialized","true"),d.style.cursor="pointer",console.log("Controller trigger panel initialized"))}})}).observe(document.body,{childList:!0,subtree:!0})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{g(),t()}):(g(),t())}p()});
